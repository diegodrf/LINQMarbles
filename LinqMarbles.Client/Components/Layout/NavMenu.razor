@using System.Collections.Frozen

<MudNavGroup Title="Operators" Expanded="@true">
    <MudNavLink Match="@NavLinkMatch.All">
        <MudTextField Variant="Variant.Text" @bind-Value="_searchTerm" Placeholder="Search Operator"
                      Style="max-width: 90%"/>
    </MudNavLink>

    @foreach (var group in Routes.NavGroup)
    {
        var filteredLinks = group.Value.Where(link => link.Contains(_searchTerm, StringComparison.OrdinalIgnoreCase)).ToList();
        if (filteredLinks.Any())
        {
            <MudNavGroup Title="@group.Key" Expanded="@true">
            @foreach (var link in filteredLinks)
            {
                <MudNavLink Href="@(Routes.FormatLinkHref(link))">@link</MudNavLink>
            }
            </MudNavGroup>
        }
    }
</MudNavGroup>
<MudNavGroup Title="Info">
    <MudNavLink Href="https://github.com/linkdotnet/LINQMarbles" Target="_blank">Source code</MudNavLink>
    <MudNavLink Href="/resources">More resources</MudNavLink>
</MudNavGroup>
@code {
    private string _searchTerm = string.Empty;
}
